repos:
    # Detect Secrets
    - repo: https://github.com/Yelp/detect-secrets
      rev: v1.4.0
      hooks:
        - id: detect-secrets
          args: ["--exclude-lines", "SECRET_PREFIX = 'secret:'|.*secretsmanager:GetSecretValue.*", "--exclude-secrets", ".*fake-secret.*|.*fake-password.*|.*FAKE_SECRET.*"]
          stages: [commit]
    
    # Python Linting using Ruff & Flake8
    - repo: https://github.com/astral-sh/ruff-pre-commit
      rev: v0.4.7
      hooks:
        - id: ruff
          types_or: [ python, pyi, jupyter ]
          args: []  # [ --fix ]
          stages: [push]
        # - id: ruff-format
        #  types_or: [ python, pyi, jupyter ]
        #  stages: [push]

    - repo: https://github.com/pycqa/flake8
      rev: 7.0.0
      hooks:
        - id: flake8
          stages: [push]

    # Terrafmor Linting using Tflint
    # - repo: https://github.com/terraform-docs/terraform-docs
    #   rev: v0.18.0
    #   hooks:
    #     - id: terraform-docs-go
    #       args: ["markdown", "table", "--output-file", "README.md", "./"]
    #       stages: [commit]

    # - repo: https://github.com/antonbabenko/pre-commit-terraform
    #   rev: "v1.74.1"
    #   hooks:
    #     - id: terraform_fmt
    #       stages: [commit]
    #     - id: terraform_tflint
    #       stages: [commit]
    #     - id: terraform_validate
    #       stages: [commit]
    #     - id: terraform_tfsec
    #       stages: [commit]

    # Spell Checking
    - repo: https://github.com/codespell-project/codespell
      rev: v2.2.4
      hooks:
      - id: codespell
        name: codespell
        description: Checks for common misspellings in text files.
        entry: codespell
        language: python
        types: [text]
        stages: [push]

    - repo: local
      hooks:
        - id: unit-tests
          name: unit-tests
          entry: python run_script.py pytest-impacted-only
          language: system
          stages: [push]
          pass_filenames: false
